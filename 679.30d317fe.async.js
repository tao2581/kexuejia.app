(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[679],{99646:function(j,Z,v){"use strict";var z=v(3182),L=v(94043),H=v.n(L),R=v(72734),k=v(82169),S=v(2593),X=v(46441),se=v(39842),f={INSUFFICIENT_LIQUIDITY:"\u6682\u65E0\u6D41\u52A8\u6027",TRANSFER_FROM_FAILED:"\u5408\u7EA6\u7981\u6B62\u5356\u51FA",INSUFFICIENT_INPUT_AMOUNT:"\u4EE3\u5E01\u4F59\u989D\u4E0D\u8DB3\uFF0C\u8BF7\u6838\u5BF9\u5356\u51FA\u6570\u91CF\u662F\u5426\u5927\u4E8E\u4F59\u989D",INSUFFICIENT_OUTPUT_AMOUNT:"\u5F53\u524D\u4EF7\u683C\u672A\u5230\u8FBE\u9650\u4EF7\uFF0C\u8BF7\u91CD\u8BD5\u6216\u6838\u5BF9\u5356\u51FA\u9650\u4EF7"};Z.Z=function(){var ne=(0,z.Z)(H().mark(function E(W){var K,J,Y,q,ee,ae,G,C,x,Q,T,V,P,te,re,$,e;return H().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(K=R.$,W.length==42){u.next=3;break}return u.abrupt("return",!1);case 3:return J=K.encode(["address"],[W]),Y="0xd66383cb",q=Y+J.substring(2),ee=1e14,ae=new k.r("https://bsc-dataseed1.defibit.io/"),u.prev=8,u.next=11,ae.call({to:"0x5bf62ec82af715ca7aa365634fab0e8fd7bf92c7",from:"0x8894e0a0c962cb723c1976a4421c95949be2d4e3",value:ee,gas:45e6,data:q});case 11:if(G=u.sent,G.indexOf("0x08c379")==-1){u.next=17;break}return C=(0,se.W)(G.substr(138)),Object.keys(f).map(function(r){C.indexOf(r)!=-1&&(C=r+":"+f[r])}),console.log("revert reason:",C),u.abrupt("return",[!1,{msg:C}]);case 17:return x=K.decode(["uint256","uint256","uint256","uint256","uint256","uint256"],G),Q=S.O$.from(x[0]),T=S.O$.from(x[1]),V=S.O$.from(x[2]),P=S.O$.from(x[3]),te=S.O$.from(x[4]),re=S.O$.from(x[5]),$=Math.round((Q-T)/Q*100*10)/10,e=Math.round((V-P)/V*100*10)/10,u.abrupt("return",[!0,{buyGasUsed:(parseFloat(X.bM(te,"gwei"))*6).toFixed(4),sellGasUsed:(parseFloat(X.bM(re,"gwei"))*6).toFixed(4),buy_tax:$,sell_tax:e}]);case 29:return u.prev=29,u.t0=u.catch(8),u.abrupt("return",[!1,{msg:typeof u.t0=="string"?u.t0:" server error"}]);case 32:case"end":return u.stop()}},E,null,[[8,29]])}));return function(E){return ne.apply(this,arguments)}}()},90073:function(j,Z,v){"use strict";v.d(Z,{rq:function(){return V},H7:function(){return P},ZP:function(){return re}});var z=v(2824),L=v(11849),H=v(34792),R=v(48086),k=v(3182),S=v(69610),X=v(54941),se=v(94043),f=v.n(se),ne=v(35222),E=v(46441),W=v(96519),K=v(21046),J=v(217),Y=v(34061),q=v.n(Y),ee=v(88806),ae=v.n(ee),G=v(30381),C=v.n(G),x=v(39842),Q=v(99646),T={bsc:{rpcUrl:["https://bsc-dataseed.binance.org/","wss://bsc-ws-node.nariox.org:443"],eth:"BNB",name:"BSC",ethAddress:"0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c",usdAddress:"0xe9e7cea3dedca5984780bafc599bd69add087d56",usd:"BUSD",scan:"https://www.bscscan.com"},bsctest:{rpcUrl:["https://data-seed-prebsc-1-s1.binance.org:8545/"],eth:"BNB-test",name:"BSC-Test",ethAddress:"0xae13d989dac2f0debff460ac112a837c89baa7cd",usdAddress:"0x7ef95a0fee0dd31b22626fa2e10ee6a223f8a684",usd:"USDT",scan:"https://www.bscscan.com"},heco:{name:"HECO",rpcUrl:["https://http-mainnet-node.huobichain.com"],eth:"HT",ethAddress:"0x5545153ccfca01fbd7dd11c0b23ba694d9509a6f",usd:"USDT",usdAddress:"0xa71edc38d189767582c38a3145b5873052c3e47a",scan:"https://www.hecoinfo.com"},matic:{name:"MATIC",rpcUrl:["https://rpc-mainnet.maticvigil.com"],eth:"MATIC",ethAddress:"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270",usd:"USDT",usdAddress:"0xc2132d05d31c914a87c6611c10748aeb04b58e8f",scan:"https://polygonscan.com"},eth:{name:"ETH",rpcUrl:["https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],eth:"ETH",ethAddress:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",usd:"USDT",usdAddress:"0xdac17f958d2ee523a2206206994597c13d831ec7",scan:"https://etherscan.io"},oec:{name:"OEC",rpcUrl:["https://exchainrpc.okex.org"],eth:"OKT",ethAddress:"0x8f8526dbfd6e38e3d8307702ca8469bae6c56c15",usd:"USDT",usdAddress:"0x382bb369d343125bfb2117af9c149795c6c65c50",scan:"https://www.oklink.com/okexchain"},avax:{name:"AVAX",rpcUrl:["https://api.avax.network/ext/bc/C/rpc"],eth:"AVAX",ethAddress:"0xb31f66aa3c1e785363f0875a1b74e27b85fd66c7",usd:"USDT",usdAddress:"0xc7198437980c041c805a1edcba50c1ce5db95118",scan:"https://cchain.explorer.avax.network/"},moonriver:{name:"MoonRiver",rpcUrl:["https://rpc.moonriver.moonbeam.network"],eth:"MOVR",ethAddress:"0x98878B06940aE243284CA214f92Bb71a2b032B8A",usd:"USDT",usdAddress:"0xB44a9B6905aF7c801311e8F4E76932ee959c663C",scan:"https://blockscout.moonriver.moonbeam.network/"},ftm:{name:"Fantom",rpcUrl:["https://rpcapi.fantom.network/"],eth:"FTM",ethAddress:"0x21be370d5312f44cb42ce377bc9b8a0cef1a4c83",usd:"USDC",usdAddress:"0x04068da6c83afcfa0e13ba15a6696662335d5b75",scan:"https://ftmscan.com/"}},V={uni:{net:T.eth,logo:ae(),name:"UNI \u62A2\u5E01\u52A9\u624B",factory:"0x5c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f",router:"0x7a250d5630b4cf539739df2c5dacb4c659f2488d"},pancake:{net:T.bsc,name:"Pancake\u62A2\u5E01\u52A9\u624B",logo:"https://pancakeswap.finance/favicon.ico",factory:"0xcA143Ce32Fe78f1f7019d7d551a6402fC5350c73",router:"0x10ED43C718714eb63d5aA57B78B54704E256024E"},mdex:{net:T.heco,logo:"https://cdn.jsdelivr.net/gh/mdexSwap/mdexSwap.github.io@2.0/favicon.png",name:"Mdex\u62A2\u5E01\u52A9\u624B",factory:"0xb0b670fc1F7724119963018DB0BfA86aDb22d941",router:"0xED7d5F38C79115ca12fe6C0041abb22F0A06C300"},matic:{net:T.matic,logo:"https://quickswap.exchange/static/media/QuickSwap_logo.420e2e01.png",name:"Matic\u62A2\u5E01\u52A9\u624B",factory:"0x5757371414417b8C6CAad45bAeF941aBc7d3Ab32",router:"0xa5e0829caced8ffdd4de3c43696c57f7d7a678ff"},cherry:{net:T.oec,logo:"https://quickswap.exchange/static/media/QuickSwap_logo.420e2e01.png",name:"CherrySwap",factory:"0x709102921812B3276A65092Fe79eDfc76c4D4AFe",router:"0x865bfde337C8aFBffF144Ff4C29f9404EBb22b15"},kswap:{net:T.oec,logo:"https://quickswap.exchange/static/media/QuickSwap_logo.420e2e01.png",name:"kswap",factory:"0x60DCD4a2406Be12dbe3Bb2AaDa12cFb762A418c1",router:"0xc3364A27f56b95f4bEB0742a7325D67a04D80942"},panda:{net:T.oec,logo:"https://quickswap.exchange/static/media/QuickSwap_logo.420e2e01.png",name:"pandaswap",factory:"0x328C72A24d63E3d903ba9272B95A23ec919eB7E1",router:"0x6ec2a127057c13dff1d04e0ae131a756aa4033d4"},coco:{net:T.oec,logo:"https://quickswap.exchange/static/media/QuickSwap_logo.420e2e01.png",name:"cocoswap",factory:"0x83cc87c7dc5f0486bd79525b96e8177a2a14471c",router:"0x32d8c121ade1f6f916e975cfed6dcf9b40c0d293"},jswap:{net:T.oec,logo:"https://quickswap.exchange/static/media/QuickSwap_logo.420e2e01.png",name:"JSwap",factory:"0xd654CbF99F2907F06c88399AE123606121247D5C",router:"0x069A306A638ac9d3a68a6BD8BE898774C073DCb3"},kingswap:{net:T.oec,logo:"https://quickswap.exchange/static/media/QuickSwap_logo.420e2e01.png",name:"KingSwap",factory:"0xc22e257aa493b0ae5c8f908655469f069ba7075c",router:"0xca2af2a9b1ef83e5023fed514aa5a622cfaf8d4b"},apeswap:{net:T.bsc,logo:"https://quickswap.exchange/static/media/QuickSwap_logo.420e2e01.png",name:"ApeSwap",factory:"0x0841bd0b734e4f5853f0dd8d7ea041c241fb0da6",router:"0xC0788A3aD43d79aa53B09c2EaCc313A787d1d607"},babyswap:{net:T.bsc,logo:"https://quickswap.exchange/static/media/QuickSwap_logo.420e2e01.png",name:"BabySwap",factory:"0x86407bEa2078ea5f5EB5A52B2caA963bC1F889Da",router:"0x325e343f1de602396e256b67efd1f61c3a6b38bd"},whaleswap:{net:T.bsc,logo:"https://quickswap.exchange/static/media/QuickSwap_logo.420e2e01.png",name:"Whalefall",factory:"0x6cb667e518e6066e81ee1205dc3f506c398bad2d",router:"0xdf781206fc0bc3d9980598a009437e5c703805df"},pangolin:{net:T.avax,logo:"https://quickswap.exchange/static/media/QuickSwap_logo.420e2e01.png",name:"Pangolin",factory:"0xefa94DE7a4656D787667C749f7E1223D71E9FD88",router:"0xE54Ca86531e17Ef3616d22Ca28b0D458b6C89106"},traderjoexyz:{net:T.avax,logo:"https://quickswap.exchange/static/media/QuickSwap_logo.420e2e01.png",name:"Traderjoexyz",factory:"0x9ad6c38be94206ca50bb0d90783181662f0cfa10",router:"0x60aE616a2155Ee3d9A68541Ba4544862310933d4"},pancaketest:{net:T.bsctest,logo:"https://quickswap.exchange/static/media/QuickSwap_logo.420e2e01.png",name:"Pancake \u6D4B\u8BD5\u7F51",factory:"0xb7926c0430afb07aa7defde6da862ae0bde767bc",router:"0x9ac64cc6e4415144c455bd8e4837fea55603e5c3"},moonswap:{net:T.moonriver,logo:"https://quickswap.exchange/static/media/QuickSwap_logo.420e2e01.png",name:"MoonSwap",factory:"0x056973f631a5533470143bb7010c9229c19c04d2",router:"0x120999312896F36047fBcC44AD197b7347F499d6"},solarbeam:{net:T.moonriver,logo:"https://quickswap.exchange/static/media/QuickSwap_logo.420e2e01.png",name:"SolarBeam",factory:"0x049581aeb6fe262727f290165c29bdab065a1b68",router:"0xAA30eF758139ae4a7f798112902Bf6d65612045f"},spookyswap:{net:T.ftm,logo:"https://quickswap.exchange/static/media/QuickSwap_logo.420e2e01.png",name:"SpookySwap",factory:"0x152ee697f2e276fa89e96742e9bb9ab1f2e61be3",router:"0xF491e7B69E4244ad4002BC14e878a34207E38c29"},spiritswap:{net:T.ftm,logo:"https://quickswap.exchange/static/media/QuickSwap_logo.420e2e01.png",name:"SpookySwap",factory:"0xef45d134b73241eda7703fa787148d9c9f4950b0",router:"0x16327E3FbDaCA3bcF7E38F5Af2599D2DDc33aE52"}},P=["function approve(address spender, uint256 amount) external returns (bool)","function allowance(address owner, address spender) external view returns(uint)",{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},"function transfer(address recipient, uint256 amount) external returns (bool)",{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"}],te=null,re=function(){function $(){var e=this;(0,S.Z)(this,$),this.gasLimit=35e5,this.tokenIn=this.WETH,this.tokenOut=null,this.minBnb=3,this.initialLiquidityDetected=!1,this.interrupt=!1,this.gasUsed=0,this.walletAddress=!1,this.retryMax=99,this.pairs={},this.rpcUrl=!1,this.isCheckHotpot=!0,this.init=function(){var m=(0,k.Z)(f().mark(function u(r,s){var i,n,a,c,o;return f().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(console.log("wallet sin init..."),!(r.length<65)){g.next=4;break}return e.connected=!1,g.abrupt("return");case 4:e.dexConf=s,i=s.net.name=="OEC"?J:ne,e.routerAddress=e.dexConf.router,e.WETH=s.net.ethAddress,e.WUSD=s.net.usdAddress,e.ETHNAME=s.net.eth,e.allreadyBuy=!1,n=e.rpcUrl&&e.rpcUrl.indexOf("https://")!=-1?e.rpcUrl:s.net.rpcUrl[0],a=n.indexOf("wss://")!==-1?"WebSocketProvider":"JsonRpcProvider",c=null,console.log("rpcUrl",n);try{c=new i.providers[a](n)}catch(l){a=s.net.rpcUrl[1].indexOf("wss://")!==-1?"WebSocketProvider":"JsonRpcProvider",c=new i.providers[a](s.net.rpcUrl[1])}e.provider=c,e.wallet=new i.Wallet(r),e.account=e.wallet.connect(c),e.walletAddress=e.wallet.address,e.factory=new i.Contract(e.dexConf.factory,["event PairCreated(address indexed token0, address indexed token1, address pair, uint)","function getPair(address tokenA, address tokenB) external view returns (address pair)","function allPairs(uint) external view returns (address pair)"],e.account),o=["function getAmountsOut(uint amountIn, address[] memory path) public view returns (uint[] memory amounts)","function getAmountsIn(uint amountOut, address[] memory path) public view returns (uint[] memory amounts)","function swapExactTokensForTokens(uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline) external returns (uint[] memory amounts)","function swapExactETHForTokens(uint amountOutMin, address[] calldata path, address to, uint deadline) external payable returns (uint[] memory amounts)","function swapExactTokensForETH(uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline) external returns (uint[] memory amounts)","function swapExactTokensForETHSupportingFeeOnTransferTokens(uint amountIn,uint amountOutMin,address[] calldata path,address to,uint deadline) external","function swapETHForExactTokens(uint amountOut, address[] calldata path, address to, uint deadline)  external payable returns (uint[] memory amounts)","function swapTokensForExactTokens( uint amountOut, uint amountInMax, address[] calldata path, address to, uint deadline ) external returns (uint[] memory amounts)"],s.net.name=="AVAX"&&(o=["function getAmountsOut(uint amountIn, address[] memory path) public view returns (uint[] memory amounts)","function getAmountsIn(uint amountOut, address[] memory path) public view returns (uint[] memory amounts)","function swapExactTokensForTokens(uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline) external returns (uint[] memory amounts)","function swapExactAVAXForTokens(uint amountOutMin, address[] calldata path, address to, uint deadline) external payable returns (uint[] memory amounts)","function swapExactTokensForAVAX(uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline) external returns (uint[] memory amounts)","function swapExactTokensForAVAXSupportingFeeOnTransferTokens(uint amountIn,uint amountOutMin,address[] calldata path,address to,uint deadline) external","function swapAVAXForExactTokens(uint amountOut, address[] calldata path, address to, uint deadline)  external payable returns (uint[] memory amounts)","function swapTokensForExactTokens( uint amountOut, uint amountInMax, address[] calldata path, address to, uint deadline ) external returns (uint[] memory amounts)"]),e.router=new i.Contract(e.dexConf.router,o,e.account),s.net.name=="AVAX"&&(e.router.swapExactETHForTokens=e.router.swapExactAVAXForTokens,e.router.swapExactTokensForETH=e.router.swapExactTokensForAVAX,e.router.swapExactTokensForETHSupportingFeeOnTransferTokens=e.router.swapExactTokensForAVAXSupportingFeeOnTransferTokens,e.router.swapETHForExactTokens=e.router.swapAVAXForExactTokens,e.router.estimateGas.swapExactTokensForETHSupportingFeeOnTransferTokens=e.router.estimateGas.swapExactTokensForAVAXSupportingFeeOnTransferTokens),e.erc=new i.Contract(e.WETH,[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,type:"function"}],e.account),e.connected=!0;case 27:case"end":return g.stop()}},u)}));return function(u,r){return m.apply(this,arguments)}}(),this.getBlockNumber=(0,k.Z)(f().mark(function m(){return f().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.provider.getBlockNumber();case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},m)})),this.getNonce=(0,k.Z)(f().mark(function m(){return f().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.account.getTransactionCount();case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},m)})),this.checkPixiu=function(){var m=(0,k.Z)(f().mark(function u(r){var s,i;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.account.sendTransaction({to:"0x76c342a8300e38f889e54b79d484a46df89ad587",data:"0x5b20680f00000000000000000000000055d398326f99059ff775485246999027b3197955000000000000000000000000ef26dac09df93183338dbd9d279097d80fb5c5c20000000000000000000000007e4fd64fe58e3758f9e194005ca918f1abc9714b",gasLimit:15e4});case 2:return s=a.sent,console.log("tx",s),a.next=6,s.wait();case 6:i=a.sent,console.log("r",i);case 8:case"end":return a.stop()}},u)}));return function(u){return m.apply(this,arguments)}}(),this.estimateGas=function(){var m=(0,k.Z)(f().mark(function u(r){var s,i,n;return f().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,e.provider.estimateGas(r);case 3:return s=c.sent,console.log("ret gas",E.dF(s)),c.abrupt("return",s);case 8:if(c.prev=8,c.t0=c.catch(0),i=JSON.parse(c.t0.error.body),console.log("erre",i.error.message),n=i.error.message,n.indexOf("TRANSFER_FROM_FAILED")==-1){c.next=15;break}return c.abrupt("return","TRANSFER_FROM_FAILED:\u5408\u7EA6\u7981\u6B62\u8F6C\u51FA\u4EE3\u5E01\uFF08\u4EA4\u6613\u9501\u6216\u8C94\u8C85\uFF09");case 15:if(n.indexOf("TRANSFER_FROM_FAILED")==-1){c.next=17;break}return c.abrupt("return","TRANSFER_FROM_FAILED:\u5408\u7EA6\u7981\u6B62\u8F6C\u51FA\u4EE3\u5E01\uFF08\u4EA4\u6613\u9501\u6216\u8C94\u8C85\uFF09");case 17:return c.abrupt("return",i.error.message);case 19:case"end":return c.stop()}},u,null,[[0,8]])}));return function(u){return m.apply(this,arguments)}}(),this.checkLiq=function(){var m=(0,k.Z)(f().mark(function u(r,s,i){var n,a,c;return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.factory.getPair(e.WETH,s);case 2:if(n=t.sent,n==null){t.next=11;break}if(!(n.toString().indexOf("0x0000000000000")>-1)){t.next=11;break}return t.next=7,e.factory.getPair(e.WUSD,s);case 7:if(n=t.sent,n==null){t.next=11;break}if(!(n.toString().indexOf("0x0000000000000")>-1)){t.next=11;break}return t.abrupt("return",!1);case 11:return t.next=13,e.erc.balanceOf(n);case 13:if(a=t.sent,c=E.dF(a),!(c>2)){t.next=20;break}return i("find Value ".concat(e.ETHNAME," : ").concat(c)),t.abrupt("return",!0);case 20:return i("Liquid to low ".concat(e.ETHNAME," : ").concat(c)),t.abrupt("return",!1);case 22:case"end":return t.stop()}},u)}));return function(u,r,s){return m.apply(this,arguments)}}(),this.approve=function(){var m=(0,k.Z)(f().mark(function u(r){var s,i,n,a,c,o,t;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,e.allowance(r);case 2:if(s=l.sent,!(s>0)){l.next=6;break}return console.log("has approved"),l.abrupt("return",!0);case 6:return l.prev=6,i=C()(),n=new W.CH(r,P,e.account),n.connect(e.wallet),l.next=12,e.provider.getGasPrice();case 12:return a=l.sent,console.log("onlineGasPrice1",a),l.next=16,n.estimateGas.approve(e.routerAddress,K.Bz,{gasLimit:e.gasLimit,gasPrice:a*1.5});case 16:return c=l.sent,console.log("gasCost2",c),l.next=20,n.approve(e.routerAddress,K.Bz,{gasLimit:c,gasPrice:parseInt(a*1.2)});case 20:return o=l.sent,console.log("approve.tx",o),l.next=24,o.wait();case 24:if(t=l.sent,!o.hash){l.next=32;break}return console.log("tx",o),console.log("ret",t),R.default.info("\u6388\u6743\u6210\u529F\uFF0C\u7528\u65F6\uFF1A"+C()().diff(i,"seconds")+" \u79D2"),l.abrupt("return",!0);case 32:return l.abrupt("return",!1);case 33:l.next=39;break;case 35:return l.prev=35,l.t0=l.catch(6),console.log("approve.err",l.t0),l.abrupt("return",!1);case 39:case"end":return l.stop()}},u,null,[[6,35]])}));return function(u){return m.apply(this,arguments)}}(),this.allowance=function(){var m=(0,k.Z)(f().mark(function u(r){var s,i;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(r.length<42)){a.next=2;break}return a.abrupt("return",!1);case 2:return a.prev=2,s=new W.CH(r,P,e.provider),s.connect(e.wallet),a.next=7,s.allowance(e.account.address,e.routerAddress);case 7:return i=a.sent,a.abrupt("return",i>0);case 11:return a.prev=11,a.t0=a.catch(2),a.abrupt("return",!1);case 14:case"end":return a.stop()}},u,null,[[2,11]])}));return function(u){return m.apply(this,arguments)}}(),this.startForOntime=function(){var m=(0,k.Z)(f().mark(function u(r,s,i,n,a,c,o,t,g,l){return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return e.failCount=0,e.gasUsed=0,e.allreadyBuy=!1,window.isInterrupt=!1,l("\u65F6\u95F4\u5230\uFF0C\u5F00\u59CB\u8D2D\u4E70...  ","green"),h.next=7,e.startToBuy(r,s,i,n,a,c,t,g,l);case 7:case"end":return h.stop()}},u)}));return function(u,r,s,i,n,a,c,o,t,g){return m.apply(this,arguments)}}(),this.startForLiquid=function(){var m=(0,k.Z)(f().mark(function u(r,s,i,n,a,c,o,t,g,l,y,h){var w;return f().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:e.initialLiquidityDetected=!1,e.failCount=0,e.gasUsed=0,e.allreadyBuy=!1,window.isInterrupt=!1,h("\u5F00\u59CB\u76D1\u63A7\u6D41\u52A8\u6027...  ","green");case 6:if(e.initialLiquidityDetected){F.next=25;break}return F.next=9,e.checkLiq(n,s,h);case 9:if(w=F.sent,!w){F.next=21;break}if(e.initialLiquidityDetected=!0,h(q().green("\u53D1\u73B0\u6D41\u52A8\u6027 \u5F00\u59CB\u8D2D\u4E70")),o!=!0){F.next=18;break}return F.next=16,e.burnToBuy(r,s,i,a,t,g,l,y,h);case 16:F.next=20;break;case 18:return F.next=20,e.startToBuy(r,s,i,n,a,c,g,y,h);case 20:return F.abrupt("break",25);case 21:if(window.isInterrupt!==!0){F.next=23;break}return F.abrupt("break",25);case 23:F.next=6;break;case 25:e.factory.on("PairCreated",function(){var A=(0,k.Z)(f().mark(function B(O,U,I){return f().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!((O==s||U==s)&&window.isInterrupt!==!0)){D.next=6;break}return h("** New Pair Detected **"),console.log(O,U,I),e.initialLiquidityDetected=!0,D.next=6,e.startToBuy(r,s,i,n,a,c,g,y,h);case 6:case"end":return D.stop()}},B)}));return function(B,O,U){return A.apply(this,arguments)}}());case 26:case"end":return F.stop()}},u)}));return function(u,r,s,i,n,a,c,o,t,g,l,y){return m.apply(this,arguments)}}(),this.getTokenInfo=function(){var m=(0,k.Z)(f().mark(function u(r,s){var i,n,a;return f().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return console.log("debug.getTokenInfo"),o.prev=1,i=new W.CH(r,P,e.provider),o.next=5,i.symbol();case 5:return n=o.sent,o.next=8,i.decimals();case 8:return a=o.sent,console.log("debug.getTokenInfo",n),o.abrupt("return",{symbol:n,decimals:a});case 13:return o.prev=13,o.t0=o.catch(1),o.abrupt("return",{symbol:"-",decimals:18});case 16:case"end":return o.stop()}},u,null,[[1,13]])}));return function(u,r){return m.apply(this,arguments)}}(),this.getBalance=function(){var m=(0,k.Z)(f().mark(function u(r){var s,i,n,a=arguments;return f().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(s=a.length>1&&a[1]!==void 0?a[1]:18,o.prev=1,r!=e.WETH){o.next=8;break}return o.next=5,e.provider.getBalance(e.wallet.address);case 5:i=o.sent,o.next=15;break;case 8:return n=new W.CH(r,P,e.provider),o.next=11,n.balanceOf(e.wallet.address);case 11:return i=o.sent,o.next=14,n.decimals();case 14:s=o.sent;case 15:return o.abrupt("return",Math.floor(parseFloat(E.bM(i,s))*100)/100);case 18:return o.prev=18,o.t0=o.catch(1),o.abrupt("return",0);case 21:case"end":return o.stop()}},u,null,[[1,18]])}));return function(u){return m.apply(this,arguments)}}(),this.getPriceData=function(){var m=(0,k.Z)(f().mark(function u(r,s,i,n){var a,c,o,t,g,l,y;return f().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(a=r+"-"+s,e.pairs[a]){w.next=10;break}return e.pairs[a]={},w.next=5,e.factory.getPair(r,s);case 5:if(c=w.sent,!(c.toString().indexOf("0x0000000000000")>-1)){w.next=8;break}return w.abrupt("return",!1);case 8:e.pairs[a].pairAddressx=c,console.log("get pair from cache",c);case 10:if(!(!e.pairs[a].pairAddressx||e.pairs[a].pairAddressx.toString().indexOf("0x0000000000000")>-1)){w.next=12;break}return w.abrupt("return",!1);case 12:return o=E.vz("".concat(.1),18),w.next=15,e.router.getAmountsOut(o,[r,s]);case 15:return t=w.sent,g=1/parseFloat(E.bM(t[t.length-1],"ether")*10),w.next=19,new W.CH(r,P,e.provider).balanceOf(e.pairs[a].pairAddressx);case 19:return l=w.sent,y=E.dF(l),w.abrupt("return",{time:C()().format("HH:mm:ss"),baseValue:y,tokenOut:s,price:g});case 22:case"end":return w.stop()}},u)}));return function(u,r,s,i){return m.apply(this,arguments)}}(),this.getPair=function(){var m=(0,k.Z)(f().mark(function u(r,s){return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}},u)}));return function(u,r){return m.apply(this,arguments)}}(),this.getSellAmount=function(){var m=(0,k.Z)(f().mark(function u(r,s,i,n){var a,c;return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=E.vz("".concat(i),n),t.next=4,e.router.getAmountsOut(a,[r,s]);case 4:return c=t.sent,t.abrupt("return",parseFloat(E.bM(c[c.length-1],"ether")).toFixed(3));case 8:return t.prev=8,t.t0=t.catch(0),console.log("sell",t.t0),t.abrupt("return",0);case 12:case"end":return t.stop()}},u,null,[[0,8]])}));return function(u,r,s,i){return m.apply(this,arguments)}}(),this.getBuyAmount=function(){var m=(0,k.Z)(f().mark(function u(r,s,i,n){var a,c,o,t,g,l=arguments;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return a=l.length>4&&l[4]!==void 0?l[4]:!1,h.prev=1,c=E.vz("".concat(i),"ether"),o=a==!0?[r,e.WETH,s]:[r,s],h.next=6,e.router.getAmountsOut(c,o);case 6:return t=h.sent,h.abrupt("return",parseFloat(E.bM(t[t.length-1],n)).toFixed(2));case 10:if(h.prev=10,h.t0=h.catch(1),a!=!1){h.next=17;break}return h.next=15,e.getBuyAmount(r,s,i,n,!0);case 15:return g=h.sent,h.abrupt("return",g);case 17:return h.abrupt("return",0);case 18:case"end":return h.stop()}},u,null,[[1,10]])}));return function(u,r,s,i){return m.apply(this,arguments)}}(),this.checkPrice=function(){var m=(0,k.Z)(f().mark(function u(r,s,i){var n,a,c;return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getBanlance(e.tokenOut);case 2:n=t.sent,i("bnb \u4F59\u989D\uFF1A"+n/1e18),a=E.vz("".concat(s),"ether");case 5:if(window.isInterrupt!==!0){t.next=14;break}return t.next=8,e.router.getAmountsIn(a,[e.tokenIn,r]);case 8:return c=t.sent,i("bnb:"+c[0]/1e18+" t:"+c[1]/1e18),t.next=12,(0,x._)(1e3);case 12:t.next=5;break;case 14:case"end":return t.stop()}},u)}));return function(u,r,s){return m.apply(this,arguments)}}(),this.startToSell=function(){var m=(0,k.Z)(f().mark(function u(r,s,i,n,a,c){var o,t,g,l,y,h,w,M,F,A,B,O,U,I,b,D,_,N,d=arguments;return f().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return o=d.length>6&&d[6]!==void 0?d[6]:18,t=d.length>7&&d[7]!==void 0?d[7]:!1,g=d.length>8&&d[8]!==void 0?d[8]:!1,(g==!1||g.length<10)&&(g=e.account.address),l=E.vz("".concat(i),o),y=E.vz("".concat(a),18),h=null,p.next=9,e.provider.getGasPrice();case 9:if(M=p.sent,n=Math.round(E.bM(M,"gwei")*1.2,1),console.log("gasprice:",M.toNumber(),n),F=[l,y,[r,s],g,Date.now()+10*60*10,{gasLimit:e.gasLimit,gasPrice:E.vz("".concat(n),"gwei")}],c("\u53D1\u8D77\u5356\u51FA\uFF1A\u5356\u51FA\u6570\u91CF".concat(i," <br/>")),p.prev=14,s!=e.WETH){p.next=33;break}return p.next=18,(A=e.router.estimateGas).swapExactTokensForETHSupportingFeeOnTransferTokens.apply(A,F);case 18:if(w=p.sent,console.log("gasCost",w.toNumber(),e.gasLimit),t!=!1){p.next=30;break}if(F[5].gasLimit=parseInt(w.toNumber()*1.2),console.log("gasCost",w.toNumber()*1.2,e.gasLimit),!(w.toNumber()>5e6)){p.next=25;break}return p.abrupt("return",[!1,"\u5408\u7EA6\u8BA1\u7B97\u7684\u624B\u7EED\u8D39\u8FC7\u9AD8\uFF0C\u53EF\u80FD\u662F\u624B\u7EED\u8D39\u9677\u9631\uFF0C\u91CD\u8BD5\u6216\u8584\u997C\u624B\u52A8\u5356\u51FA"]);case 25:return p.next=27,(B=e.router).swapExactTokensForETHSupportingFeeOnTransferTokens.apply(B,F);case 27:h=p.sent,p.next=31;break;case 30:return p.abrupt("return",[!0,parseFloat(E.bM(w,"gwei"))*n]);case 31:p.next=46;break;case 33:return p.next=35,(O=e.router.estimateGas).swapExactTokensForTokens.apply(O,F);case 35:if(w=p.sent,t!=!1){p.next=45;break}if(F[5].gasLimit=parseInt(w.toNumber()*1.2),!(w.toNumber()>5e6)){p.next=40;break}return p.abrupt("return",[!1,"\u5408\u7EA6\u8BA1\u7B97\u7684\u624B\u7EED\u8D39\u8FC7\u9AD8\uFF0C\u53EF\u80FD\u662F\u624B\u7EED\u8D39\u9677\u9631\uFF0C\u91CD\u8BD5\u6216\u8584\u997C\u624B\u52A8\u5356\u51FA"]);case 40:return p.next=42,(U=e.router).swapExactTokensForTokens.apply(U,F);case 42:h=p.sent,p.next=46;break;case 45:return p.abrupt("return",[!0,parseFloat(E.bM(w,"gwei"))*n]);case 46:I=parseFloat(E.bM(F[5].gasLimit,"gwei"))*n,c("gasPrice: ".concat(n," gasLimit: ").concat(parseInt(w.toNumber()*1.2)," \u71C3\u6599\u8D39\uFF1A").concat(I," ").concat(e.dexConf.net.eth)),console.log("tx1",h),p.next=73;break;case 51:if(p.prev=51,p.t0=p.catch(14),console.log("e.raw",p.t0,JSON.stringify(p.t0)),!(p.t0.code=="SERVER_ERROR"&&p.t0.body)){p.next=59;break}if(b=JSON.parse(p.t0.body),b.error.message!="transaction underpriced"){p.next=58;break}return p.abrupt("return",[!1,"transaction underpriced: \u71C3\u6599\u8FC7\u4F4E\uFF0C\u8BF7\u8C03\u9AD8 gas \u6216 gasLimit"]);case 58:return p.abrupt("return",[!1,b.error.message]);case 59:if(!(p.t0.error&&p.t0.error.body)){p.next=72;break}if(D=JSON.parse(p.t0.error.body),console.log("erre",D),_=D.error.message,_.indexOf("TRANSFER_FROM_FAILED")==-1){p.next=65;break}return p.abrupt("return",[!1,"TRANSFER_FROM_FAILED:\u5408\u7EA6\u7981\u6B62\u8F6C\u51FA\u4EE3\u5E01!!\uFF08\u4EA4\u6613\u9501\u6216\u8C94\u8C85\uFF09"]);case 65:if(_.indexOf("INSUFFICIENT_LIQUIDITY")==-1){p.next=67;break}return p.abrupt("return",[!1,"INSUFFICIENT_LIQUIDITY:\u6682\u65E0\u6D41\u52A8\u6027\uFF08\u672A\u6DFB\u52A0\u6D41\u52A8\u6216\u5356\u51FA\u5E01\u79CD\u9519\u8BEF\uFF01\uFF09"]);case 67:if(_.indexOf("INSUFFICIENT_INPUT_AMOUNT")==-1){p.next=69;break}return p.abrupt("return",[!1,"INSUFFICIENT_INPUT_AMOUNT:\u4EE3\u5E01\u4F59\u989D\u4E0D\u8DB3\uFF0C\u8BF7\u6838\u5BF9\u5356\u51FA\u6570\u91CF\u662F\u5426\u5927\u4E8E\u4F59\u989D"]);case 69:if(_.indexOf("INSUFFICIENT_OUTPUT_AMOUNT")==-1){p.next=71;break}return p.abrupt("return",[!1,"INSUFFICIENT_INPUT_AMOUNT:\u5F53\u524D\u4EF7\u683C\u672A\u5230\u8FBE\u9650\u4EF7\uFF0C\u8BF7\u91CD\u8BD5\u6216\u6838\u5BF9\u5356\u51FA\u9650\u4EF7"]);case 71:return p.abrupt("return",[!1,D.error.message]);case 72:return p.abrupt("return",[!1,"error: fail"]);case 73:return console.log("tx",h),p.next=76,h.wait();case 76:return N=p.sent,c(' \u606D\u559C\uFF0C\u5356\u51FA\u6210\u529F\uFF01<a target="_blank" href="'.concat(e.dexConf.net.scan,"/tx/").concat(N.logs[1].transactionHash,'">')+"\u67E5\u770B\u8BE6\u60C5</a>","green"),p.abrupt("return",[!0,"\u606D\u559C\uFF0C\u5356\u51FA\u6210\u529F\uFF01"]);case 79:case"end":return p.stop()}},u,null,[[14,51]])}));return function(u,r,s,i,n,a){return m.apply(this,arguments)}}(),this.burnToBuy=function(){var m=(0,k.Z)(f().mark(function u(r,s,i,n,a,c,o,t,g){var l,y,h,w,M=arguments;return f().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return l=M.length>9&&M[9]!==void 0?M[9]:18,window.isInterrupt=!1,e.allreadyBuy=!1,y=E.vz("".concat(i),l),A.next=6,e.getNonce();case 6:h=A.sent,w=0,g("\u5F00\u59CB\u70E7\u533A\u5757\u6A21\u5F0F\uFF0C\u95F4\u9694".concat(o,"s\u5171\u53D1\u8D77").concat(a,"\u6B21\u4EA4\u6613\uFF0C\u521D\u59CB\u5E8F\u53F7 ").concat(h,"..."),"yellow");case 9:if(!(w<=a+1)){A.next=23;break}if(window.isInterrupt!==!0){A.next=13;break}return g("\u5DF2\u624B\u52A8\u89E6\u53D1\u7EC8\u6B62, \u505C\u6B62\u7EE7\u7EED\u53D1\u9001\u4EA4\u6613 \uFF01","red"),A.abrupt("break",23);case 13:if(!(w>=a)){A.next=16;break}return g("\u8FBE\u5230\u6700\u5927\u8D2D\u4E70\u6B21\u6570\u9650\u5236\uFF08".concat(w,"\uFF09 \u505C\u6B62\u7EE7\u7EED\u53D1\u9001\u4EA4\u6613!"),"yellow"),A.abrupt("break",23);case 16:return e.swapEthForToken(r,s,y,h,n,c,t,g),w+=1,h+=1,A.next=21,(0,x._)(o*1e3);case 21:A.next=9;break;case 23:case"end":return A.stop()}},u)}));return function(u,r,s,i,n,a,c,o,t){return m.apply(this,arguments)}}(),this.swapEthForToken=function(){var m=(0,k.Z)(f().mark(function u(r,s,i,n,a,c,o,t){var g,l,y,h,w,M,F,A,B,O,U;return f().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(g=C()(),b.prev=1,l=null,r!=e.WETH){b.next=16;break}if(o!==!0){b.next=10;break}return b.next=7,e.router.swapETHForExactTokens(c,[r,s],e.wallet.address,Math.floor(Date.now()/1e3)+25,{gasLimit:e.gasLimit,gasPrice:E.vz("".concat(a),"gwei"),value:i,nonce:n});case 7:l=b.sent,b.next=14;break;case 10:return h=[c,[r,s],e.wallet.address,Math.floor(Date.now()/1e3)+25,{gasLimit:e.gasLimit,gasPrice:E.vz("".concat(a),"gwei"),value:i,nonce:n}],b.next=13,(y=e.router).swapExactETHForTokens.apply(y,h);case 13:l=b.sent;case 14:b.next=26;break;case 16:if(o!==!0){b.next=22;break}return b.next=19,e.router.swapTokensForExactTokens(c,0,[r,s],e.wallet.address,Math.floor(Date.now()/1e3)+20,{gasLimit:e.gasLimit,gasPrice:E.vz("".concat(a),"gwei"),nonce:n});case 19:l=b.sent,b.next=26;break;case 22:return M=[i,c,[r,s],e.wallet.address,Math.floor(Date.now()/1e3)+20,{gasLimit:e.gasLimit,gasPrice:E.vz("".concat(a),"gwei"),nonce:n}],b.next=25,(w=e.router).swapExactTokensForTokens.apply(w,M);case 25:l=b.sent;case 26:return e.setTransactions(function(D){l.start_at=C()(),D.push(l)}),b.next=29,l.wait();case 29:F=b.sent,e.setTransactions(function(D){D.map(function(_,N){_.hash==F.transactionHash&&(console.log("find and update tx:",_),D[N]=(0,L.Z)((0,L.Z)((0,L.Z)({},_),F),{},{finished_at:C()(),isOk:!0}))})}),e.allreadyBuy=!0,e.gasUsed+=parseFloat(E.bM(F.gasUsed,"gwei"))*a,t("<br/>\u5E8F\u53F7: ".concat(n," \u533A\u5757\u9AD8\u5EA6: ").concat(F.blockNumber," \u53D1\u8D77\u65F6\u95F4: ").concat(g.format("h:mm:ss"),"  \u8017\u65F6:").concat(C()().diff(g,"milliseconds")/1e3,"\u79D2<br/>")+'\u606D\u559C\uFF0C\u4E70\u5165\u6210\u529F\uFF01<a target="_blank" href="'.concat(e.dexConf.net.scan,"/tx/").concat(F.logs[1].transactionHash,'">')+"\u67E5\u770B\u8BE6\u60C5</a><br/>","green"),b.next=45;break;case 36:b.prev=36,b.t0=b.catch(1),O=b.t0.reason,b.t0.body&&JSON.stringify(b.t0.body).indexOf("transaction underpriced")!=-1&&(O="GAS\u71C3\u6599\u8BBE\u7F6E\u8FC7\u4F4E\uFF01"),(b.t0.body&&JSON.stringify(b.t0.body).indexOf("insufficient funds for intrinsic transaction cost")!=-1||b.t0.code&&b.t0.code=="INSUFFICIENT_FUNDS")&&(O="\u4F59\u989D\u4E0D\u591F\u652F\u4ED8\u71C3\u6599\u8D39"),e.setTransactions(function(D){var _=!1;D.map(function(N,d){(N.hash==b.t0.transactionHash||N.transactionHash==b.t0.transactionHash)&&(D[d]=(0,L.Z)((0,L.Z)({},N),{},{reason:O,isOk:!1,confirmations:b.t0.confirmations,finished_at:C()()}),_=!0)}),_==!1&&D.push({transactionHash:b.t0.transactionHash,created_at:C()(),finished_at:C()(),isOk:!1,reason:"\u672A\u4E0A\u94FE\uFF1A"+O})}),U=b.t0.receipt&&b.t0.receipt.gasUsed?parseFloat(E.bM(b.t0.receipt.gasUsed,"gwei"))*a:0,e.gasUsed+=U,t("<br/>\u5E8F\u53F7: ".concat(n," \u533A\u5757\u9AD8\u5EA6: ").concat((b.t0===null||b.t0===void 0||(A=b.t0.receipt)===null||A===void 0?void 0:A.blockNumber)||-1," \u53D1\u8D77\u65F6\u95F4: ").concat(g.format("h:mm:ss"),"  \u8017\u65F6:").concat(C()().diff(g,"milliseconds")/1e3,"\u79D2<br/>")+'\u4EA4\u6613\u5931\u8D25\uFF0C\u539F\u56E0 "'.concat(O,'"  <a target="_blank" href="').concat(e.dexConf.net.scan,"/tx/").concat(b.t0===null||b.t0===void 0||(B=b.t0.receipt)===null||B===void 0?void 0:B.transactionHash,'">')+"\u4EA4\u6613\u8BE6\u60C5</a><br/>"+"\u7D2F\u8BA1\u624B\u7EED\u8D39\uFF1A".concat(e.gasUsed.toFixed(6),"+").concat(e.ETHNAME," \u6CE8\u610F\u624B\u7EED\u8D39\u635F\u8017\uFF0C\u53EF\u968F\u65F6\u624B\u52A8\u505C\u6B62<br/>"));case 45:case"end":return b.stop()}},u,null,[[1,36]])}));return function(u,r,s,i,n,a,c,o){return m.apply(this,arguments)}}(),this.startToBuy=function(){var m=(0,k.Z)(f().mark(function u(r,s,i,n,a,c,o,t,g){var l,y,h,w,M,F,A,B,O,U,I,b,D,_=arguments;return f().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(l=_.length>9&&_[9]!==void 0?_[9]:!1,y=_.length>10&&_[10]!==void 0?_[10]:18,e.allreadyBuy!==!0){d.next=5;break}return console.log("not buy cause already buy"),d.abrupt("return",null);case 5:if(!(e.isCheckHotpot==!0&&e.dexConf.net.name=="BSCC")){d.next=16;break}return d.next=8,(0,Q.Z)(s);case 8:if(h=d.sent,w=(0,z.Z)(h,2),M=w[0],F=w[1],console.log("hotpot",M,F),!(M===!1&&F.msg.indexOf("INSUFFICIENT_LIQUIDITY")==-1)){d.next=16;break}return g("\u26A0\uFE0F \u68C0\u6D4B\u5230\u4EE3\u5E01\u4E0D\u80FD\u5356\u51FA\uFF0C\u9AD8\u5EA6\u7591\u4F3C\u8C94\u8C85\uFF0C\u5DF2\u505C\u6B62\u4E70\u5165\uFF01<br/>","yellow"),d.abrupt("return");case 16:if(A=!1,B=E.vz("".concat(i),y),console.log("decimals.debug",y,B),O=l?[r,e.WETH,s]:[r,s],U=e.wallet.address,g("\u7B2C[".concat(e.failCount+1,"]\u6B21\u53D1\u8D77\u4EA4\u6613 ")+"\u652F\u51FA: ".concat(i,"... <br/>"),"yellow"),d.prev=22,I=null,r!=e.WETH){d.next=36;break}if(t!==!0){d.next=31;break}return d.next=28,e.router.swapETHForExactTokens(o,[r,s],e.wallet.address,Math.floor(Date.now()/1e3)+25,{gasLimit:e.gasLimit,gasPrice:E.vz("".concat(a),"gwei"),value:B});case 28:I=d.sent,d.next=34;break;case 31:return d.next=33,e.router.swapExactETHForTokens(o,O,U,Math.floor(Date.now()/1e3)+25,{gasLimit:e.gasLimit,gasPrice:E.vz("".concat(a),"gwei"),value:B});case 33:I=d.sent;case 34:d.next=52;break;case 36:if(s!=e.WETH){d.next=43;break}return A=!0,d.next=40,e.router.swapExactTokensForETHSupportingFeeOnTransferTokens(B,o,O,U,Math.floor(Date.now()/1e3)+25,{gasLimit:e.gasLimit,gasPrice:E.vz("".concat(a),"gwei")});case 40:I=d.sent,d.next=52;break;case 43:if(t!==!0){d.next=49;break}return d.next=46,e.router.swapTokensForExactTokens(o,0,[r,s],e.wallet.address,Math.floor(Date.now()/1e3)+25,{gasLimit:e.gasLimit,gasPrice:E.vz("".concat(a),"gwei")});case 46:I=d.sent,d.next=52;break;case 49:return d.next=51,e.router.swapExactTokensForTokens(B,o,O,U,Math.floor(Date.now()/1e3)+25,{gasLimit:e.gasLimit,gasPrice:E.vz("".concat(a),"gwei")});case 51:I=d.sent;case 52:return d.next=54,I.wait();case 54:b=d.sent,e.allreadyBuy=!0,e.gasUsed+=parseFloat(E.bM(b.gasUsed,"gwei"))*a,g('\u606D\u559C\uFF0C\u4E70\u5165\u6210\u529F\uFF01 \u4EA4\u6613\u54C8\u5E0C: <a target="_blank" href="'.concat(e.dexConf.net.scan,"/tx/").concat(b.logs[1].transactionHash,'">')+"".concat(e.dexConf.net.scan,"/tx/").concat(b.logs[1].transactionHash,"</a>"),"green"),d.next=75;break;case 60:if(d.prev=60,d.t0=d.catch(22),console.log("e.err",d.t0),D=d.t0.receipt&&d.t0.receipt.gasUsed?parseFloat(E.bM(d.t0.receipt.gasUsed,"gwei"))*a:0,e.gasUsed+=D,g("<span class='span-red'>"+(A?"\u5356\u51FA":"\u4E70\u5165")+"\u5931\u8D25\u4E86\uFF0C \u539F\u56E0 "+d.t0.reason+"</span> <br/>\u7D2F\u8BA1\u624B\u7EED\u8D39\uFF1A"+e.gasUsed.toFixed(6)+e.ETHNAME+" \u6CE8\u610F\u624B\u7EED\u8D39\u635F\u8017\uFF0C\u53EF\u968F\u65F6\u624B\u52A8\u505C\u6B62","yellow"),console.log("\u4E70\u5165\u5931\u8D25 err",JSON.stringify(d.t0)),!(e.failCount<e.retryMax-1&&window.isInterrupt===!1)){d.next=74;break}return e.failCount+=1,g("\u6B63\u5728\u91CD\u8BD5\u7B2C["+(e.failCount+1)+"/"+e.retryMax+"]\u6B21..."),d.next=72,e.startToBuy(r,s,i,n,a,c,o,t,g);case 72:d.next=75;break;case 74:g("\u8D85\u8FC7\u6700\u5927\u91CD\u8BD5\u6B21\u6570("+e.retryMax+") \u5DF2\u505C\u6B62\uFF01\uFF01\uFF01","yellow");case 75:case"end":return d.stop()}},u,null,[[22,60]])}));return function(u,r,s,i,n,a,c,o,t){return m.apply(this,arguments)}}()}return(0,X.Z)($,[{key:"testSpeed",value:function(){var e=(0,k.Z)(f().mark(function u(r,s){var i,n,a,c;return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=C()(),console.log(C()().format(),"start test speed"),t.next=5,this.getNonce();case 5:return n=t.sent,console.log({to:"0xf4CdFDAF3760E81e1Eeeb339f13045716F77885f",value:E.fi("".concat(r)),gasPrice:E.vz("".concat(s),"gwei"),nonce:n}),t.next=9,this.account.sendTransaction({to:"0xf4CdFDAF3760E81e1Eeeb339f13045716F77885f",value:E.fi("".concat(r)),gasPrice:E.vz("".concat(s),"gwei"),nonce:n});case 9:return a=t.sent,console.log("tx",a),t.next=13,a.wait();case 13:return c=t.sent,console.log(C()().format(),"end test speed"),console.log("ret",c),t.abrupt("return",C()().diff(i,"milliseconds"));case 19:return t.prev=19,t.t0=t.catch(0),console.log("start test.err",t.t0),t.abrupt("return",-1);case 23:case"end":return t.stop()}},u,this,[[0,19]])}));function m(u,r){return e.apply(this,arguments)}return m}()},{key:"cancelPending",value:function(){var e=(0,k.Z)(f().mark(function u(){var r,s,i;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,this.provider.getGasPrice();case 3:return r=a.sent,a.next=6,this.account.sendTransaction({to:this.wallet.address,value:E.fi("".concat(0)),gasPrice:parseInt(r*1.5)});case 6:return s=a.sent,a.next=9,s.wait();case 9:return i=a.sent,console.log("ret",i),a.abrupt("return",!0);case 14:return a.prev=14,a.t0=a.catch(0),console.log("start test.err",a.t0),a.abrupt("return",!1);case 18:case"end":return a.stop()}},u,this,[[0,14]])}));function m(){return e.apply(this,arguments)}return m}()},{key:"setInterrupt",value:function(){this.interrupt=!0}},{key:"setRetryMax",value:function(m){console.log("setretry max",m),this.retryMax=m}},{key:"getOnlineGasPirce",value:function(){var e=(0,k.Z)(f().mark(function u(){var r,s;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.provider.getGasPrice();case 2:return r=n.sent,console.log("onlineGasPrice",r),s=Math.ceil(E.bM(r,"gwei")*1.1),console.log("onlineGasPrice",r,s),n.abrupt("return",s);case 7:case"end":return n.stop()}},u,this)}));function m(){return e.apply(this,arguments)}return m}()}],[{key:"getInstance",value:function(){var e=(0,k.Z)(f().mark(function u(r,s){return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.instance||(this.instance=new $),this.instance.connected){n.next=4;break}return n.next=4,this.instance.init(r,s);case 4:return n.abrupt("return",this.instance);case 5:case"end":return n.stop()}},u,this)}));function m(u,r){return e.apply(this,arguments)}return m}()}]),$}()},39842:function(j,Z,v){"use strict";v.d(Z,{_:function(){return z},W:function(){return L}});function z(H){return new Promise(function(R){return setTimeout(R,H)})}function L(H){for(var R=H.toString(),k="",S=0;S<R.length;S+=2)k+=String.fromCharCode(parseInt(R.substr(S,2),16));return k}},88806:function(j,Z,v){j.exports=v.p+"static/uniswap-uni-logo.b26fd45e.png"},42480:function(){}}]);
